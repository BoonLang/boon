## Documentation Sync Status

Tracking documentation consistency across docs/new_boon/.

**Last updated:** After Round F (seventh advisor feedback batch).

---

### âœ… COMPLETED

| File | Task | Status |
|------|------|--------|
| 1.1_GETTING_STARTED.md | Change "No Arcs" to "No Arc<ValueActor>" | âœ… Done |
| 2.3_MESSAGE_PASSING.md | Canonical Payload enum with Unit variant | âœ… Done |
| 2.3_MESSAGE_PASSING.md | BLOCK compilation section (Issue 19) | âœ… Present |
| 2.3_MESSAGE_PASSING.md | TaggedObject payload variant added | âœ… Done |
| 2.3_MESSAGE_PASSING.md | Bool/Unit added to HOLD allowed-types | âœ… Done |
| 2.4_EVENT_LOOP.md | tick_scheduled added to canonical struct | âœ… Done |
| 2.4_EVENT_LOOP.md | Sort key includes port (source_id, scope_id, port) | âœ… Done |
| 2.5_GRAPH_SNAPSHOT.md | Timer snapshot with both deadline_tick and deadline_ms | âœ… Done |
| 2.5_GRAPH_SNAPSHOT.md | SerializablePayload for SlotId conversion | âœ… Done |
| 2.8_BRIDGE_API.md | Payload::Unit (was Empty) | âœ… Done |
| 2.8_BRIDGE_API.md | LINK binding/unbinding protocol (Issue 15) | âœ… Present |
| 2.8_BRIDGE_API.md | Element event payloads and state fields table | âœ… Done |
| 2.9_TYPE_SYSTEM.md | Duration type definition | âœ… Done |
| 2.9_TYPE_SYSTEM.md | Timer/Stream function separation | âœ… Done |
| 2.9_TYPE_SYSTEM.md | FLUSH type vs runtime clarification | âœ… Done |
| 2.9_TYPE_SYSTEM.md | Bool/Unit notes (tags vs primitive) | âœ… Done |
| 2.9_TYPE_SYSTEM.md | Quoted strings fixed to TEXT {} | âœ… Done |
| 3.1_MODULES.md | BUILD.bn platform note (browser vs CLI) | âœ… Done |
| 3.3_CROSS_PLATFORM.md | Document/new is universal (not browser-only) | âœ… Done |
| 3.4_TESTING.md | Timer/interval with Duration pipe | âœ… Done |
| 3.4_TESTING.md | Use Payload::Unit for event triggers | âœ… Done |
| 3.5_DIAGNOSTICS.md | Engine paths updated to engine_v2/ | âœ… Done |
| 3.7_HOT_RELOAD_FLEXIBILITY.md | Timer/interval with Duration | âœ… Done |
| 4.01_M0_BOON_CLI.md | Engine location paths | âœ… Done |
| 4.1_M1_NEW_ENGINE.md | Engine location paths | âœ… Done |
| 4.1_M1_NEW_ENGINE.md | api_v2/ â†’ evaluator_v2/api.rs | âœ… Done |
| 4.9_PHASES.md | RAF â†’ microtask scheduling | âœ… Done |
| 4.10_M9_TESTING.md | Timer/interval with Duration pipe | âœ… Done |
| 6.1_ISSUES.md | Issue 12 marked resolved | âœ… Done |
| 6.1_ISSUES.md | Issue 20 sort key includes port | âœ… Done |
| 6.1_ISSUES.md | Payload::Unit added | âœ… Done |
| 6.1_ISSUES.md | Microtask scheduling (not RAF) | âœ… Done |
| 6.3_FILES.md | FLUSH item-level isolation (matches Â§2.6) | âœ… Done |
| 6.8_PROTOCOLS.md | Protocol vs Materialized JSON distinction | âœ… Done |
| 6.8_PROTOCOLS.md | TaggedObject serialization added | âœ… Done |
| 6.8_PROTOCOLS.md | Nothing removed (not a Payload variant) | âœ… Done |
| plans/*.md | Duration type, PASS/PASSED rules, Timer/interval docs | âœ… Done |
| plans/*.md | Quoted strings fixed to TEXT {} | âœ… Done |
| plans/*.md | JSON schema for Document/new output | âœ… Done |
| plans/*.md | TaggedObject in materialize() and Payload enum | âœ… Done |
| plans/*.md | Scalar vs element root output clarification | âœ… Done |
| 2.0_ARCHITECTURE_RATIONALE.md | Hardware-inspired (not synthesizable) wording | âœ… Done |
| 2.4_EVENT_LOOP.md | tick_scheduled clarified (browser + CLI purposes) | âœ… Done |
| 2.5_GRAPH_SNAPSHOT.md | Purpose & use cases (persistence vs time-travel) | âœ… Done |
| 2.8_BRIDGE_API.md | Style converters handle TaggedObject | âœ… Done |
| 3.3_CROSS_PLATFORM.md | CLI reentrancy guard note for schedule_microtask | âœ… Done |
| 3.3_CROSS_PLATFORM.md | Element/* portability clarified | âœ… Done |
| 3.3_CROSS_PLATFORM.md | api/ tree marked as future refactor | âœ… Done |
| 5.1_FPGA_TRANSPILER.md | Sync event-loop (not async actors) | âœ… Done |
| 6.2_EXAMPLES.md | Phase labels (not M2/M3) for engine phases | âœ… Done |
| 6.3_FILES.md | FLUSH example uses tagged object syntax | âœ… Done |
| 6.8_PROTOCOLS.md | TaggedObject format consistency (tagged_object) | âœ… Done |
| 2.1-2.7 | "Files to modify" paths point to engine_v2/ | âœ… Done |
| 2.2_ARENA_MEMORY.md | Arena struct includes addresses side table | âœ… Done |
| 2.4_EVENT_LOOP.md | DirtyEntry type with (SlotId, Port) for multi-input | âœ… Done |
| 3.2_HOT_RELOAD.md | SipHasher13 with fixed seeds (not DefaultHasher) | âœ… Done |
| 2.9_TYPE_SYSTEM.md | Unit [] vs empty object [:] distinction | âœ… Done |
| 6.7_OPEN_QUESTIONS.md | Q3 FLUSH snippet includes error payload | âœ… Done |
| 3.7_HOT_RELOAD_FLEXIBILITY.md | AllocSite/ItemKey terminology (not pid_map) | âœ… Done |
| 3.5_DIAGNOSTICS.md | Port field in NodeAddress examples | âœ… Done |
| 6.8_PROTOCOLS.md | Unified debug protocol with NodeAddress format | âœ… Done |
| 6.2_EXAMPLES.md | Fibonacci phase label (Phase 6) | âœ… Done |
| 2.5_GRAPH_SNAPSHOT.md | SerializablePayload in NodeSnapshot | âœ… Done |
| 2.1_NODE_IDENTIFICATION.md | Canonical Port JSON representation | âœ… Done |
| 6.8_PROTOCOLS.md | Null collision avoidance (skip_serializing_if) | âœ… Done |
| 3.3_CROSS_PLATFORM.md | CLI microtask reentrancy guard (tick_scheduled) | âœ… Done |
| 2.8_BRIDGE_API.md | NoElement, Hidden[], Reference[] semantics | âœ… Done |
| 2.8_BRIDGE_API.md | Document/new renderer mechanism (platform observes) | âœ… Done |
| 2.8_BRIDGE_API.md | Minimum stdlib table for M1 (33 functions) | âœ… Done |
| 2.8_BRIDGE_API.md | Per-example breakdown with coverage hotspots | âœ… Done |
| 2.8_BRIDGE_API.md | Bridge render_root handles scalar types (Text/Number) | âœ… Done |
| 6.7_OPEN_QUESTIONS.md | FIFO reference fixed (Â§2.7 â†’ Â§2.4/Â§2.0) | âœ… Done |
| 6.8_PROTOCOLS.md | Canonical NodeAddress JSON format with Port variants | âœ… Done |
| 2.9_TYPE_SYSTEM.md | Unit coercion rule for stdlib optional args | âœ… Done |
| 2.4_EVENT_LOOP.md | in_tick guard + pending_ticks for CLI reentrancy | âœ… Done |
| plans/*.md | TaggedObject in Payload, DirtyEntry, NoElementâ†’null | âœ… Done |
| 2.8_BRIDGE_API.md | Hidden[text:] and Duration[seconds:] shapes match examples | âœ… Done |
| 2.8_BRIDGE_API.md | Bits/* removed from M1 stdlib (30 functions now) | âœ… Done |
| 2.8_BRIDGE_API.md | directional_to_css snippet with proper field extraction | âœ… Done |
| 6.8_PROTOCOLS.md | Persistence keys use NodeAddress shorthand (not slot_N) | âœ… Done |

---

### ðŸ”´ REMAINING (Low Priority for M0/M1)

| File | Task | Priority |
|------|------|----------|
| 1.1_GETTING_STARTED.md | Add TextTemplate node to table | Low |
| 1.1_GETTING_STARTED.md | Add sections: Alias field-paths (14), Effect nodes (18) | Low |
| 3.1_MODULES.md | Add CLI/server-only note to run_until_quiescent | Low (Polish) |

**Recently completed (Round F - seventh batch):**
- Bridge.render_root() handles scalar document roots (Text, Number, Bool, Unit)
- Canonical NodeAddress JSON format unified across 6.8/3.5/2.1
- Unit coercion rule for stdlib optional args ([] means "use defaults")
- in_tick guard + pending_ticks for CLI reentrancy prevention
- Plan snippets updated: TaggedObject in Payload, DirtyEntry type, NoElementâ†’null
- Hidden[text:] and Duration[seconds:] shapes match actual example usage
- Bits/* removed from M1 stdlib (not used by any of 23 examples)
- directional_to_css snippet with proper field extraction
- Persistence keys use NodeAddress shorthand (not slot_N)
- FIFO reference in 6.7 fixed from Â§2.7 to Â§2.4/Â§2.0

**Previously completed (Round E - sixth batch):**
- "Files to modify" paths updated to engine_v2/ across all 2.x files
- Arena struct definition includes addresses HashMap for deterministic sorting
- DirtyEntry type: (SlotId, Port) instead of just SlotId for multi-input nodes
- SipHasher13 with fixed seeds for stable cross-session SourceId hashing
- Unit [] vs empty object [:] distinction clarified
- Q3 FLUSH snippet fixed to include error payload
- AllocSite/ItemKey terminology replaces "pid_map" throughout
- Port field added to all NodeAddress examples in diagnostics
- Debug protocol unified to use NodeAddress format (not slot_42)
- Fibonacci phase label corrected to Phase 6
- SerializablePayload used consistently in NodeSnapshot
- Canonical Port JSON representation defined: `{"type": "output"}`, etc.
- Null collision avoidance strategy: skip_serializing_if for Option fields
- CLI microtask reentrancy guard mechanism (tick_scheduled flag)
- NoElement, Hidden[], Reference[] semantics for elements
- Document/new renderer mechanism: platform observes, not FunctionContext calls
- Minimum stdlib table for M1: 33 functions, 4 tagged objects, 6 events
- Per-example breakdown table with coverage hotspots for implementation priority

**Previously completed (Round 5):**
- JSON schema for Document/new with scalar vs element root handling
- TaggedObject in plan Payload enum and materialize() function
- Hardware wording clarified (design enables HDL transpiler, not direct synthesis)
- tick_scheduled clarified for both browser and CLI purposes (reset timing invariant)
- GraphSnapshot purpose/use cases (persistence scope for M0/M1)
- Style converters handle TaggedObject (Oklch, Duration)
- Element/* portability (universal data, platform-specific rendering)
- api/ tree marked as future refactor (M0/M1 uses evaluator_v2/api.rs)
- Tagged object format consistency (_type: "tagged_object")
- Issue 24: SlotId â†’ NodeAddress in NodeStateSnapshot (Router/Bus fields, Register values)
- SerializablePayload conversion uses method (arena access required), not From trait
- NodeAddress storage added to Arena (side table for snapshot sorting)
- Stream/pulses and Stream/skip added to Phase 6 (engine phases)
- Persistence scope expanded (Bus + AllocSite + nested HOLDs, not just HOLD values)
- Oklch field names (lightness/chroma/hue, not l/c/h abbreviations)
- HOLD flat object runtime model (per-field Registers, no per-tick allocation)
- ListDelta/ObjectDelta serialization format in protocol JSON
- Unit vs Nothing distinction table in protocols
- FLUSH example fixed (uses tagged objects for meaningful patterns)

**Previously completed (Round 4):**
- Sort key consistency: (source_id, scope_id, port) across 2.4, 2.0, 6.1
- RAF/microtask alignment across 6.1 and 4.9
- GraphSnapshot timer fields and SlotId serialization
- Unit/Nothing/Bool consistency across 2.9, 2.3, 6.8
- TaggedObject runtime representation defined
- Element event payloads table added to 2.8

---

### Notes

- Engine location is canonical at `crates/boon/src/engine_v2/` (platform-agnostic)
- API functions live in `evaluator_v2/api.rs` (single file, not api_v2/ directory)
- Timer/interval uses Duration pipe pattern: `Duration[seconds: 1] |> Timer/interval()`
- Stream/pulses and Stream/skip are in Stream namespace, not Timer
- Payload::Unit replaces informal Payload::Empty for signal events
- Payload::TaggedObject for Duration, Oklch, Hidden, etc.
- Two JSON modes: Protocol (type-wrapped) vs Materialized (plain values)
- FLUSH semantics: Type system uses unions, runtime uses Payload::Flushed wrapper
- Bool: conceptually tags (True/False), runtime uses Payload::Bool(bool) for efficiency
- Unit: Boon literal is [], runtime is Payload::Unit, JSON is null
- Nothing: not a Payload variant - "no value" is node not emitting
- Browser scheduling: queueMicrotask for propagation, setTimeout for timers
- Document/new is universal (CLI outputs JSON, browser renders DOM)
- DirtyEntry: (SlotId, Port) pair for multi-input node tracking
- SipHasher13 with fixed seeds: `0xB00A_5TAB_1E00_0001/2` for stable hashing
- Port JSON: `{"type": "output"}`, `{"type": "input", "n": 0}`, `{"type": "field", "id": 42}`
- NoElement: tag-only for conditional element removal (different from Unit)
- M1 minimum stdlib: 30 functions, 4 tagged objects, 6 events (Bits/* removed - not used)
- Coverage hotspots: todo_mvc is critical (tests 6 unique features), fibonacci tests Stream/pulses
- Duration[seconds:] in examples - runtime normalizes to milliseconds
- Hidden[text:] for hidden labels (not Hidden[element:])
- Unit coercion: [] accepted where options object expected in stdlib functions
- CLI reentrancy: in_tick flag + pending_ticks counter (see Â§2.4)
