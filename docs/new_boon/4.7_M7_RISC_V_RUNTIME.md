# Milestone 7: RISC-V Runtime

**Status**: Not Started

## Overview

Run Boon applications on the RISC-V processor designed in M6. Use WAMR (WebAssembly Micro Runtime) as the execution environment, with Boon compiled to WebAssembly AOT. FPGA state persists across restarts using MRAM or other non-volatile memory.

---

## Success Criteria

- [ ] WAMR runs on RISC-V (M6 processor)
- [ ] Boon code compiles to Wasm AOT
- [ ] Boon applications execute on RISC-V via WAMR
- [ ] State persists across FPGA power cycles
- [ ] Performance is acceptable for interactive use

---

## Dependencies

- **Requires**: M6 (RISC-V Design)
- **Enables**: Ultimate vision - Boon running on Boon-designed hardware

---

## Key Features

| Feature | Description |
|---------|-------------|
| WAMR | WebAssembly Micro Runtime on RISC-V |
| AOT compilation | Ahead-of-time Wasm compilation |
| MRAM persistence | State survives power loss |
| Memory mapping | Boon state → non-volatile memory |
| Debug interface | UART debugging for development |

---

## Execution Stack

```
┌─────────────────────────────────┐
│         Boon Application        │  ← Boon code
├─────────────────────────────────┤
│   WAMR (WebAssembly Runtime)    │  ← Wasm VM
├─────────────────────────────────┤
│      RISC-V (from M6)           │  ← Hardware
├─────────────────────────────────┤
│        FPGA + MRAM              │  ← Physical
└─────────────────────────────────┘
```

---

## Non-Volatile Memory Options

| Memory Type | Speed | Endurance | Cost |
|-------------|-------|-----------|------|
| MRAM | Fast | Unlimited | High |
| FRAM | Fast | High | Medium |
| Flash | Slow | Limited | Low |

---

## Testing Strategy

- WAMR bring-up on RISC-V
- Boon → Wasm compilation tests
- State persistence tests (power cycle)
- Performance benchmarks

---

## Related Documentation

- §5.2 RISC Softcore - hardware design
- §6.8 Protocols - persistence format, UART debugging
- https://github.com/bytecodealliance/wasm-micro-runtime - WAMR
